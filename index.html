<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Password Strength Checker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Embedded CSS (normally in styles.css) -->
    <style>
      /* Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #5d4e37 0%, #3e2723 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #333;
        padding: 20px;
        transition: all 0.3s ease;
      }

      /* Dark mode styles */
      body.dark-mode {
        background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
        color: #e0e0e0;
      }

      /* Theme Toggle Button */
      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 24px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .theme-toggle:hover {
        transform: scale(1.1);
        background: rgba(255, 255, 255, 0.3);
      }

      body.dark-mode .theme-toggle {
        background: rgba(0, 0, 0, 0.3);
        color: #e0e0e0;
      }

      body.dark-mode .theme-toggle:hover {
        background: rgba(0, 0, 0, 0.5);
      }

      /* Main Container */
      .container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        min-width: 400px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        transition: all 0.3s ease;
      }

      body.dark-mode .container {
        background: rgba(30, 30, 30, 0.95);
        color: #e0e0e0;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      }

      /* Header */
      h1 {
        color: #4a5568;
        margin-bottom: 30px;
        font-weight: 600;
        font-size: 2rem;
      }

      body.dark-mode h1 {
        color: #e0e0e0;
      }

      /* Input Section */
      .input-container {
        position: relative;
        margin-bottom: 20px;
      }

      #passwordInput {
        width: 100%;
        padding: 15px 50px 15px 20px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 16px;
        font-family: "Poppins", sans-serif;
        transition: all 0.3s ease;
        background: #fff;
        color: #333;
      }

      body.dark-mode #passwordInput {
        background: #2d2d2d;
        border-color: #404040;
        color: #e0e0e0;
      }

      #passwordInput:focus {
        outline: none;
        border-color: #8b4513;
        box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
      }

      body.dark-mode #passwordInput:focus {
        border-color: #bb86fc;
        box-shadow: 0 0 0 3px rgba(187, 134, 252, 0.1);
      }

      .toggle-password {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #a0aec0;
        font-size: 18px;
        transition: color 0.3s ease;
        user-select: none;
      }

      .toggle-password:hover {
        color: #8b4513;
      }

      body.dark-mode .toggle-password:hover {
        color: #bb86fc;
      }

      /* Strength Meter */
      .strength-meter {
        width: 100%;
        height: 8px;
        background: #e2e8f0;
        border-radius: 4px;
        margin: 15px 0;
        overflow: hidden;
      }

      body.dark-mode .strength-meter {
        background: #404040;
      }

      .strength-bar {
        height: 100%;
        width: 0%;
        transition: all 0.5s ease;
        border-radius: 4px;
      }

      /* Strength Text */
      .strength-text {
        font-size: 18px;
        font-weight: 600;
        margin: 15px 0;
        min-height: 25px;
        transition: all 0.3s ease;
      }

      /* Suggestions Box */
      .suggestions {
        background: #f7fafc;
        border-radius: 10px;
        padding: 15px;
        margin-top: 20px;
        text-align: left;
        min-height: 50px;
        border-left: 4px solid #cbd5e0;
        transition: all 0.3s ease;
      }

      body.dark-mode .suggestions {
        background: #2d2d2d;
        border-left-color: #404040;
      }

      .suggestions h3 {
        color: #4a5568;
        margin-bottom: 10px;
        font-size: 14px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      body.dark-mode .suggestions h3 {
        color: #e0e0e0;
      }

      .suggestions ul {
        list-style: none;
        padding: 0;
      }

      .suggestions li {
        color: #666;
        margin: 5px 0;
        font-size: 14px;
        position: relative;
        padding-left: 20px;
        line-height: 1.4;
      }

      body.dark-mode .suggestions li {
        color: #b0b0b0;
      }

      .suggestions li:before {
        content: "•";
        color: #cbd5e0;
        font-weight: bold;
        position: absolute;
        left: 0;
      }

      body.dark-mode .suggestions li:before {
        color: #404040;
      }

      /* Demo Section */
      .demo-section {
        margin-top: 30px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      body.dark-mode .demo-section {
        background: rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.1);
      }

      .demo-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
        margin-bottom: 15px;
      }

      .demo-btn {
        background: #8b4513;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 12px;
        font-family: "Poppins", sans-serif;
        transition: all 0.3s ease;
      }

      .demo-btn:hover {
        background: #a0522d;
        transform: translateY(-1px);
      }

      body.dark-mode .demo-btn {
        background: #bb86fc;
        color: #000;
      }

      body.dark-mode .demo-btn:hover {
        background: #d4b3ff;
      }

      .demo-info {
        font-size: 14px;
        color: #666;
        text-align: center;
        margin-bottom: 10px;
      }

      body.dark-mode .demo-info {
        color: #b0b0b0;
      }

      /* Error Messages */
      .error {
        color: #e53e3e;
        background: #fed7d7;
        padding: 10px;
        border-radius: 8px;
        margin: 10px 0;
        font-size: 14px;
        border: 1px solid #feb2b2;
      }

      body.dark-mode .error {
        background: #4a0e0e;
        border-color: #8b0000;
        color: #ffaaaa;
      }

      /* Strength-Specific Styles */
      .very-weak {
        color: #e53e3e;
      }

      .very-weak .strength-bar {
        background: linear-gradient(90deg, #e53e3e, #fc8181);
        width: 20%;
      }

      .very-weak .suggestions {
        border-left-color: #e53e3e;
        background: #fed7d7;
      }

      body.dark-mode .very-weak .suggestions {
        background: #4a0e0e;
      }

      .weak {
        color: #fd7b28;
      }

      .weak .strength-bar {
        background: linear-gradient(90deg, #fd7b28, #f6ad55);
        width: 35%;
      }

      .weak .suggestions {
        border-left-color: #fd7b28;
        background: #feebc8;
      }

      body.dark-mode .weak .suggestions {
        background: #4a2c0e;
      }

      .medium {
        color: #f6ad55;
      }

      .medium .strength-bar {
        background: linear-gradient(90deg, #f6ad55, #fbd38d);
        width: 60%;
      }

      .medium .suggestions {
        border-left-color: #f6ad55;
        background: #fffbeb;
      }

      body.dark-mode .medium .suggestions {
        background: #4a3d0e;
      }

      .strong {
        color: #48bb78;
      }

      .strong .strength-bar {
        background: linear-gradient(90deg, #48bb78, #68d391);
        width: 80%;
      }

      .strong .suggestions {
        border-left-color: #48bb78;
        background: #f0fff4;
      }

      body.dark-mode .strong .suggestions {
        background: #0e4a1a;
      }

      .very-strong {
        color: #38a169;
      }

      .very-strong .strength-bar {
        background: linear-gradient(90deg, #38a169, #48bb78);
        width: 100%;
      }

      .very-strong .suggestions {
        border-left-color: #38a169;
        background: #f0fff4;
      }

      body.dark-mode .very-strong .suggestions {
        background: #0e4a1a;
      }

      .loading {
        color: #666;
        font-style: italic;
      }

      body.dark-mode .loading {
        color: #b0b0b0;
      }

      /* Enhanced Mobile Responsiveness */
      @media (max-width: 768px) {
        body {
          padding: 60px 15px 20px;
          align-items: flex-start;
          justify-content: flex-start;
          padding-top: 70px;
        }

        .theme-toggle {
          top: 20px;
          right: 20px;
          width: 44px;
          height: 44px;
          font-size: 20px;
          z-index: 1000;
        }

        .container {
          min-width: unset;
          width: 100%;
          max-width: none;
          padding: 25px 20px;
          margin: 0;
          border-radius: 15px;
        }

        h1 {
          font-size: 1.6rem;
          margin-bottom: 20px;
        }

        #passwordInput {
          padding: 16px 50px 16px 18px;
          font-size: 16px; /* Prevents zoom on iOS */
          border-radius: 10px;
        }

        .toggle-password {
          right: 18px;
          font-size: 18px;
        }

        .strength-meter {
          height: 8px;
          margin: 15px 0;
        }

        .strength-text {
          font-size: 16px;
          margin: 15px 0;
        }

        .suggestions {
          padding: 15px;
          border-radius: 10px;
          margin-top: 20px;
        }

        .suggestions h3 {
          font-size: 14px;
          margin-bottom: 10px;
        }

        .suggestions li {
          font-size: 14px;
          margin: 6px 0;
          line-height: 1.5;
        }

        .demo-section {
          margin-top: 25px;
          padding: 18px;
          border-radius: 10px;
        }

        .demo-buttons {
          gap: 8px;
        }

        .demo-btn {
          padding: 10px 14px;
          font-size: 13px;
          border-radius: 6px;
          flex: 1;
          min-width: 100px;
        }

        .demo-info {
          font-size: 14px;
          margin-bottom: 15px;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 60px 10px 15px;
          padding-top: 70px;
        }

        .theme-toggle {
          top: 15px;
          right: 15px;
          width: 40px;
          height: 40px;
          font-size: 18px;
        }

        .container {
          padding: 20px 15px;
          border-radius: 12px;
          width: 100%;
        }

        h1 {
          font-size: 1.4rem;
          margin-bottom: 18px;
        }

        #passwordInput {
          padding: 14px 45px 14px 16px;
          font-size: 16px;
          border-radius: 8px;
        }

        .toggle-password {
          right: 16px;
          font-size: 16px;
        }

        .strength-meter {
          height: 6px;
          margin: 12px 0;
        }

        .strength-text {
          font-size: 15px;
          margin: 12px 0;
        }

        .suggestions {
          padding: 12px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .suggestions h3 {
          font-size: 12px;
          margin-bottom: 8px;
        }

        .suggestions li {
          font-size: 13px;
          margin: 4px 0;
          line-height: 1.4;
        }

        .demo-section {
          margin-top: 20px;
          padding: 15px;
          border-radius: 8px;
        }

        .demo-buttons {
          flex-direction: column;
          gap: 8px;
        }

        .demo-btn {
          padding: 12px 16px;
          font-size: 13px;
          border-radius: 6px;
          width: 100%;
        }

        .demo-info {
          font-size: 13px;
          margin-bottom: 12px;
        }
      }

      /* Extra small devices */
      @media (max-width: 320px) {
        body {
          padding: 55px 8px 10px;
        }

        .theme-toggle {
          top: 12px;
          right: 12px;
          width: 36px;
          height: 36px;
          font-size: 16px;
        }

        .container {
          padding: 18px 12px;
          width: 100%;
        }

        h1 {
          font-size: 1.2rem;
          margin-bottom: 15px;
        }

        #passwordInput {
          padding: 12px 40px 12px 14px;
          font-size: 16px;
        }

        .toggle-password {
          right: 14px;
          font-size: 14px;
        }

        .suggestions li {
          font-size: 12px;
          padding-left: 16px;
        }

        .demo-btn {
          padding: 10px 12px;
          font-size: 12px;
        }
      }

      /* Landscape mobile optimization */
      @media (max-height: 600px) and (orientation: landscape) {
        body {
          align-items: flex-start;
          padding-top: 60px;
          padding-bottom: 10px;
        }

        .theme-toggle {
          top: 10px;
          right: 10px;
          width: 36px;
          height: 36px;
          font-size: 16px;
        }

        .container {
          margin: 10px auto;
          max-width: 600px;
        }

        h1 {
          margin-bottom: 12px;
          font-size: 1.3rem;
        }

        .demo-section {
          margin-top: 12px;
          padding: 12px;
        }

        .demo-buttons {
          flex-direction: row;
          flex-wrap: wrap;
          justify-content: center;
        }

        .demo-btn {
          padding: 8px 12px;
          font-size: 12px;
          min-width: auto;
          flex: none;
        }
      }

      /* Touch-friendly improvements */
      @media (max-width: 768px) {
        .demo-btn, .theme-toggle, .toggle-password {
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }

        .theme-toggle:active,
        .demo-btn:active {
          transform: scale(0.95);
        }

        /* Ensure proper spacing for thumb navigation */
        .demo-btn {
          min-height: 44px;
        }

        .theme-toggle {
          min-width: 44px;
          min-height: 44px;
        }
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" id="themeToggle" title="Toggle Dark/Light Mode">
      🌙
    </button>

    <div class="container">
      <h1>🔐 Password Strength Checker</h1>

      <div class="input-container">
        <input
          type="password"
          id="passwordInput"
          placeholder="Enter your password..."
          autocomplete="new-password"
        />
        <span class="toggle-password" id="togglePassword">👁️</span>
      </div>

      <div class="strength-meter">
        <div class="strength-bar" id="strengthBar"></div>
      </div>

      <div class="strength-text" id="strengthText">
        Enter a password to check its strength
      </div>

      <div class="suggestions" id="suggestions">
        <h3>Tips</h3>
        <ul id="suggestionsList">
          <li>Use a mix of uppercase and lowercase letters</li>
          <li>Include numbers and special characters</li>
          <li>Make it at least 12 characters long</li>
          <li>Avoid common passwords and dictionary words</li>
        </ul>
      </div>

      <div class="demo-section">
        <div class="demo-info">
          👇 Try these example passwords to see the strength checker in action:
        </div>
        <div class="demo-buttons">
          <button class="demo-btn" onclick="setPassword('123')">123</button>
          <button class="demo-btn" onclick="setPassword('password')">
            password
          </button>
          <button class="demo-btn" onclick="setPassword('Password1')">
            Password1
          </button>
          <button class="demo-btn" onclick="setPassword('MySecure123!')">
            MySecure123!
          </button>
          <button class="demo-btn" onclick="setPassword('Tr0ub4dor&3')">
            Tr0ub4dor&3
          </button>
          <button
            class="demo-btn"
            onclick="setPassword('correct-horse-battery-staple-2024!')"
          >
            Long Passphrase
          </button>
        </div>
      </div>

      <div id="errorMessage" class="error" style="display: none"></div>
    </div>

    <!-- Embedded JavaScript (normally in script.js) -->
    <script>
      // DOM Elements
      const passwordInput = document.getElementById("passwordInput");
      const togglePassword = document.getElementById("togglePassword");
      const strengthText = document.getElementById("strengthText");
      const strengthBar = document.getElementById("strengthBar");
      const suggestions = document.getElementById("suggestions");
      const suggestionsList = document.getElementById("suggestionsList");
      const errorMessage = document.getElementById("errorMessage");
      const container = document.querySelector(".container");
      const themeToggle = document.getElementById("themeToggle");

      // Configuration
      const API_CONFIG = {
        LOCAL_URL: "http://127.0.0.1:5000",
        PRODUCTION_URL: "https://your-app.onrender.com",
        USE_PRODUCTION: false,
      };

      const API_URL = API_CONFIG.USE_PRODUCTION
        ? API_CONFIG.PRODUCTION_URL
        : API_CONFIG.LOCAL_URL;

      // Common weak passwords database
      const COMMON_PASSWORDS = new Set([
        "password",
        "123456",
        "123456789",
        "qwerty",
        "abc123",
        "monkey",
        "password123",
        "admin",
        "letmein",
        "welcome",
        "123123",
        "password1",
        "iloveyou",
        "princess",
        "rockyou",
        "1234567890",
        "superman",
        "qwertyuiop",
        "azerty",
        "trustno1",
        "000000",
        "shadow",
        "michael",
        "jennifer",
        "master",
        "111111",
        "dragon",
        "sunshine",
        "football",
        "jesus",
        "hello",
        "charlie",
        "aa123456",
        "donald",
        "qwerty123",
      ]);

      /**
       * Toggle dark/light mode
       */
      function toggleTheme() {
        const body = document.body;
        const isDark = body.classList.toggle('dark-mode');
        
        // Update icon
        themeToggle.textContent = isDark ? '☀️' : '🌙';
        themeToggle.title = isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode';
        
        // Save preference
        localStorage.setItem('darkMode', isDark);
      }

      /**
       * Initialize theme based on saved preference
       */
      function initializeTheme() {
        const savedTheme = localStorage.getItem('darkMode');
        const prefersDark = savedTheme === 'true' || 
          (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches);
        
        if (prefersDark) {
          document.body.classList.add('dark-mode');
          themeToggle.textContent = '☀️';
          themeToggle.title = 'Switch to Light Mode';
        } else {
          themeToggle.textContent = '🌙';
          themeToggle.title = 'Switch to Dark Mode';
        }
      }

      /**
       * Toggle password visibility
       */
      function togglePasswordVisibility() {
        const type =
          passwordInput.getAttribute("type") === "password"
            ? "text"
            : "password";
        passwordInput.setAttribute("type", type);
        togglePassword.textContent = type === "password" ? "👁️" : "🙈";
      }

      /**
       * Debounce function to limit API calls
       */
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      /**
       * Client-side password strength evaluation (fallback/preview mode)
       */
      function evaluatePasswordStrengthOffline(password) {
        if (!password) {
          return {
            strength: "Enter a password to check its strength",
            score: 0,
            suggestions: [
              "Use a mix of uppercase and lowercase letters",
              "Include numbers and special characters",
              "Make it at least 12 characters long",
              "Avoid common passwords and dictionary words",
            ],
          };
        }

        let score = 0;
        let suggestions = [];

        // Length scoring
        const length = password.length;
        if (length >= 12) {
          score += 2;
        } else if (length >= 8) {
          score += 1;
        } else {
          suggestions.push("Use at least 8 characters (12+ recommended)");
        }

        // Character variety checks
        const hasLowercase = /[a-z]/.test(password);
        const hasUppercase = /[A-Z]/.test(password);
        const hasDigits = /[0-9]/.test(password);
        const hasSpecial = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(
          password
        );

        if (hasLowercase) score += 1;
        else suggestions.push("Include lowercase letters (a-z)");

        if (hasUppercase) score += 1;
        else suggestions.push("Include uppercase letters (A-Z)");

        if (hasDigits) score += 1;
        else suggestions.push("Include numbers (0-9)");

        if (hasSpecial) score += 1;
        else suggestions.push("Include special characters (!@#$%^&*)");

        // Check for common passwords
        if (COMMON_PASSWORDS.has(password.toLowerCase())) {
          score = Math.max(0, score - 2);
          suggestions.push("Avoid common passwords");
        }

        // Sequential characters penalty
        if (
          /(012|123|234|345|456|567|678|789|890)/.test(password) ||
          /(abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/.test(
            password.toLowerCase()
          )
        ) {
          score = Math.max(0, score - 1);
          suggestions.push("Avoid sequential characters or numbers");
        }

        // Repeated characters penalty
        if (/(.)\1{2,}/.test(password)) {
          score = Math.max(0, score - 1);
          suggestions.push("Avoid repeating characters");
        }

        // Dictionary words penalty
        const commonWords = [
          "password",
          "admin",
          "user",
          "login",
          "welcome",
          "hello",
          "world",
        ];
        for (const word of commonWords) {
          if (password.toLowerCase().includes(word)) {
            score = Math.max(0, score - 1);
            suggestions.push("Avoid dictionary words");
            break;
          }
        }

        // Determine strength level
        let strength;
        if (score >= 6) strength = "Very Strong";
        else if (score >= 5) strength = "Strong";
        else if (score >= 3) strength = "Medium";
        else if (score >= 1) strength = "Weak";
        else strength = "Very Weak";

        // Add positive feedback for strong passwords
        if (score >= 5 && suggestions.length === 0) {
          suggestions = ["🎉 Excellent! Your password is very strong."];
        } else if (score >= 3 && suggestions.length <= 1) {
          suggestions.push(
            "👍 Good password! Consider the suggestions above to make it even stronger."
          );
        }

        return { strength, score, suggestions };
      }

      /**
       * Check password strength via API or offline fallback
       */
      async function checkPasswordStrength(password) {
        if (!password.trim()) {
          resetToDefault();
          return;
        }

        // Show loading state
        showLoadingState();

        try {
          // In this preview, we use offline evaluation
          // In production, this would call the Flask API
          const result = evaluatePasswordStrengthOffline(password);
          updateStrengthDisplay(result);
        } catch (error) {
          console.warn("Using offline evaluation:", error.message);
          const result = evaluatePasswordStrengthOffline(password);
          updateStrengthDisplay(result);
        }
      }

      /**
       * Show loading state while checking password
       */
      function showLoadingState() {
        strengthText.textContent = "Analyzing...";
        strengthText.className = "strength-text loading";
        container.className = "container";
        hideError();
      }

      /**
       * Update the UI with strength evaluation results
       */
      function updateStrengthDisplay(data) {
        const strengthClass = data.strength.toLowerCase().replace(" ", "-");

        strengthText.textContent = data.strength;
        strengthText.className = `strength-text ${strengthClass}`;
        container.className = `container ${strengthClass}`;

        if (data.suggestions && data.suggestions.length > 0) {
          updateSuggestionsList(data.suggestions);
          const title =
            data.score >= 5
              ? "Great!"
              : data.score === 0
              ? "Tips"
              : "Suggestions";
          suggestions.querySelector("h3").textContent = title;
        }

        hideError();
      }

      /**
       * Update the suggestions list
       */
      function updateSuggestionsList(suggestionsList) {
        const ul = document.getElementById("suggestionsList");
        ul.innerHTML = "";

        suggestionsList.forEach((suggestion) => {
          const li = document.createElement("li");
          li.textContent = suggestion;
          ul.appendChild(li);
        });
      }

      /**
       * Reset UI to default state
       */
      function resetToDefault() {
        strengthText.textContent = "Enter a password to check its strength";
        strengthText.className = "strength-text";
        container.className = "container";

        suggestions.querySelector("h3").textContent = "Tips";
        const defaultSuggestions = [
          "Use a mix of uppercase and lowercase letters",
          "Include numbers and special characters",
          "Make it at least 12 characters long",
          "Avoid common passwords and dictionary words",
        ];
        updateSuggestionsList(defaultSuggestions);

        hideError();
      }

      /**
       * Hide error message
       */
      function hideError() {
        if (errorMessage) {
          errorMessage.style.display = "none";
        }
      }

      /**
       * Set a demo password (used by demo buttons)
       */
      function setPassword(password) {
        passwordInput.value = password;
        passwordInput.focus();
        checkPasswordStrength(password);
      }

      /**
       * Initialize the application
       */
      function initializeApp() {
        const debouncedCheck = debounce(checkPasswordStrength, 300);

        // Initialize theme
        initializeTheme();

        if (themeToggle) {
          themeToggle.addEventListener("click", toggleTheme);
        }

        if (togglePassword) {
          togglePassword.addEventListener("click", togglePasswordVisibility);
        }

        if (passwordInput) {
          passwordInput.addEventListener("input", function () {
            debouncedCheck(this.value);
          });
          passwordInput.focus();
        }

        document.addEventListener("keydown", function (event) {
          if ((event.ctrlKey || event.metaKey) && event.key === "/") {
            event.preventDefault();
            if (passwordInput) {
              passwordInput.focus();
              passwordInput.select();
            }
          }
        });

        console.log(
          "Password Strength Checker initialized with Dark/Light Mode Toggle"
        );
      }

      // Initialize when DOM is loaded
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initializeApp);
      } else {
        initializeApp();
      }

      // Make setPassword available globally for demo buttons
      window.setPassword = setPassword;
    </script>
  </body>
</html>